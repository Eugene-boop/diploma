!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{const e=document.querySelector(".clubs-list");e.addEventListener("click",t=>{t.target.matches("p")&&(e.querySelector("ul").style.display="none"==getComputedStyle(e.querySelector("ul")).display?"block":"none")})};var o=(e,t,n=(()=>{}))=>{const r=document.querySelector(t),o=r?document.querySelector(r.dataset.popup):null,l=document.querySelectorAll(".wrapper");o&&(r.addEventListener("click",(function(t){t.preventDefault(),o.style.display="block",document.body.style.cssText=" overflow: hidden; width: 100%",l.forEach(t=>{t.style.paddingRight=+getComputedStyle(t).paddingRight.slice(0,-2)+e+"px"}),n(this)})),o.addEventListener("click",e=>{const t=e.target;if(!t.closest(".form-content")||t.matches(".close-btn")){if(o.style.display="none",document.body.style.cssText="",l.forEach(e=>{e.style.paddingRight=""}),o.matches("#gift"))return;const e=o.querySelector("form");e.querySelector(".status-alert")&&(e.removeChild(o.querySelector(".status-alert")),e.querySelectorAll("*").forEach(e=>{e.style.display="none"!=e.style.display||e.matches(".statusMessage")?"none":""})),e.querySelectorAll("input").forEach(e=>{"form_name"!==e.name&&(e.value="")})}}))};var l=e=>{document.addEventListener("submit",e=>e.preventDefault());const t=t=>{const n=document.createElement("div");n.textContent="Загрузка...",n.style.fontSize="1.5rem",n.style.color="white",n.style.marginTop="5px",n.style.display="none",n.classList.add("statusMessage"),t.appendChild(n);const r=document.createElement("div");r.style.cssText="font-size:1.5rem; color: white; height: 100%; width: 100%; text-align: center;",r.classList.add("status-alert");const o=document.querySelectorAll(".wrapper"),l=(l=null)=>{r.textContent=l?"Что-то пошло не так":"Спасибо! Скоро свяжемся",t.closest("#banner")||t.closest("#footer")?(t=>{const n=document.getElementById("thanks");t&&(n.querySelector("h4").textContent="Ошибка",n.querySelector("p").innerHTML=`Сообщите оператору или на почту </br> ${t}`),n.style.display="block",document.body.style.cssText=" overflow: hidden; width: 100%",o.forEach(t=>{t.style.paddingRight=+getComputedStyle(t).paddingRight.slice(0,-2)+e+"px"});const r=e=>{const t=e.target;t.closest(".form-content")&&!t.matches(".close-btn")||(n.style.display="none",document.body.style.cssText="",o.forEach(e=>{e.style.paddingRight=""}),n.removeEventListener("click",r))};n.addEventListener("click",r)})(l):t.closest("#cards")?n.textContent=l?"Что-то пошло не так":"Спасибо! Скоро свяжемся":(t.querySelectorAll("*").forEach(e=>{e.style.display="none"}),t.parentNode.style.cssText="display: flex;  align-items: center;  justify-content: center;",t.insertAdjacentElement("afterbegin",r))};t.addEventListener("submit",e=>{n.textContent="Загрузка...",n.style.display="",t.closest("#cards")&&(n.style.color="black");const r=new FormData(t),o={};r.forEach((e,t)=>{t.startsWith("mask")||(o[t]=e)}),t.querySelectorAll("input").forEach(e=>{"checkbox"!==e.type&&"radio"!==e.type&&"form_name"!==e.name?e.value="":t.matches("#card_order")&&("1"===e.value||"mozaika"===e.value)||t.matches("#footer_form")&&"mozaika"===e.value||t.matches("#card_order")&&"1s"===e.value?e.checked=!0:e.checked=!1}),s(o).then(e=>{if(200!==e.status)throw new Error(e.statusText);l()}).catch(e=>{l(e),console.log(e)}).finally(()=>{t.closest("#cards")?setTimeout(()=>{n.style.display="none",n.textContent="Загрузка..."},3e3):n.style.display="none"})});const s=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};document.querySelectorAll("form").forEach(e=>{t(e)})};var s=(e,t)=>{t.forEach((t,n)=>{document.querySelectorAll(t).forEach(t=>{t.addEventListener("input",()=>{t.value=t.value.replace(e[n],"")})})})};var a=()=>{document.querySelectorAll('input[name="phone"]').forEach(e=>{e.nextElementSibling.addEventListener("input",(function(){e.value=this.value.replace(/\D/g,"").substring(0,16),this.value=(e=>e.startsWith("+")?e.replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,"$1 ($2) $3-$4-$5"):"+"+e.replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,"$1 ($2) $3-$4-$5"))(this.value)}))})};var c=({slideName:e,sliderName:t,dotUlName:n,dotClass:r,dotActiveClass:o,arrowName:l,arrowNextName:s,arrowPrevName:a,slideTime:c})=>{const d=document.querySelector(t);let i,u=document.querySelectorAll(e);for(let e=1;e<u.length;e++)u[e].style.display="none";if(l&&(d.style.position="relative",d.insertAdjacentHTML("beforeend",`<a href="#" class="${l} ${a}"></a>\n    <a href="#" class="${l} ${s}"></a>`)),n){const e=document.createElement("ul");e.classList.add(n),d.parentNode.style.position="relative",d.insertAdjacentElement("beforeend",e),(()=>{let t="";for(let e=0;e<u.length;e++)t+=`<li class="${r}"></li>`;e.insertAdjacentHTML("afterbegin",t),e.childNodes[0].classList.add(o)})(),i=e.childNodes}let m,y,p,h=0;const f=(e,t,n)=>{n?e[t].classList.remove(n):e[t].style.display="none"},v=(e,t,n)=>{n?e[t].classList.add(n):e[t].style.display="flex"};if(c){const e=()=>{f(u,h),n&&f(i,h,o),h++,h>=u.length&&(h=0),v(u,h),n&&v(i,h,o)};y=t=>{m=setInterval(e,t)},p=()=>{clearInterval(m)},y(c)}(n||l)&&t&&(d.addEventListener("click",e=>{e.preventDefault();const t=e.target;t.matches(`.${s}, .${a}, .${r}`)&&(f(u,h),n&&f(i,h,o),t.matches(`.${s}`)?h++:t.matches(`.${a}`)?h--:t.matches(`.${r}`)&&i.forEach((e,n)=>{e===t&&(h=n)}),h>=u.length&&(h=0),h<0&&(h=u.length-1),v(u,h),n&&v(i,h,o))}),c&&(d.addEventListener("mouseover",e=>{(e.target.matches(`.${r}`)||e.target.matches(`.${a}`)||e.target.matches(`.${s}`))&&p()}),d.addEventListener("mouseout",e=>{(e.target.matches(`.${r}`)||e.target.matches(`.${a}`)||e.target.matches(`.${s}`))&&y(c)})))};var d=()=>{const e=document.querySelector(".carousel");let t=1;for(let n of e.querySelectorAll(".slide"))n.style.position="relative",n.insertAdjacentHTML("beforeend",`<span style="position:absolute;left:0;top:0">${t}</span>`),t++;let n=e.querySelector(".images"),r=e.querySelectorAll(".slide"),o=0;e.querySelector(".prev").onclick=function(){o+=222,o=Math.min(o,0),n.style.marginLeft=o+"px"},e.querySelector(".next").onclick=function(){o!==r.length/2*-222&&(o-=222,o=Math.max(o,-222*(r.length-1)),n.style.marginLeft=o+"px")}};var i=()=>{const e=document.querySelector(".top-menu"),t=()=>{window.pageYOffset>document.body.querySelector(".head").offsetHeight&&document.body.offsetWidth<=767?e.style.position="fixed":e.style.position=""};t(),window.addEventListener("scroll",()=>{t()})};var u=()=>{const e=document.querySelector(".hidden-small"),t=document.querySelector(".popup-menu.hidden-large");e.addEventListener("click",e=>{e.preventDefault();const t=e.target;t.matches("a")&&document.querySelector(t.href.match(/#.+$/)[0]).scrollIntoView({behavior:"smooth",block:"start"})}),t.addEventListener("click",e=>{e.preventDefault();const t=e.target;t.matches("a")&&document.querySelector(t.href.match(/#.+$/)[0]).scrollIntoView({behavior:"smooth",block:"start"})})};var m=()=>{const e=document.querySelector(".top-menu"),t=document.querySelector(".popup-menu.hidden-large");e.addEventListener("click",e=>{e.target.matches("img")&&(t.style.display="flex")}),t.addEventListener("click",e=>{(e.target.matches("img")||e.target.matches("a"))&&(t.style.display="")})};var y=e=>{e.remove()};(()=>{const e=document.getElementById("totop"),t=()=>{window.pageYOffset>document.body.querySelector("header").offsetHeight?e.style.display="":e.style.display="none"};t(),window.addEventListener("scroll",()=>{t()}),e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})})(),document.addEventListener("DOMContentLoaded",()=>{const e=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth)-e;r(),o(t,".open-popup"),o(t,".callback-btn"),o(t,".fixed-gift",y),l(t),s([/[^\d|+]/gi,/[A-Z\d]/gi],['input[type="tel"]','input[type="text"]']),a(),c({slideName:".main-slider .slide",sliderName:".main-slider",slideTime:4e3}),c({slideName:".gallery-slider .slide",sliderName:".gallery-slider",slideTime:2500,dotUlName:"gallery-slider-dots",dotClass:"gallery-slider-dot",dotActiveClass:"gallery-dot-active",arrowName:"arrow gallery-arrow",arrowNextName:"next",arrowPrevName:"prev"}),d(),i(),u(),m()})}]);